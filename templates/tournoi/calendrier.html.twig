{% extends 'base.html.twig' %}

{% block navbar %}
<nav class="nav nav-pills nav-justified">
  <a class="nav-item nav-link" href="{{path('tournoi_show', {id:tournoi.id})}}">Informations</a>
  <a class="nav-item nav-link active" href="{{path('tournoi_show_calendrier', {id:tournoi.id})}}">Calendrier</a>
  <a class="nav-item nav-link" href="#">Résultats</a>
  <a class="nav-item nav-link" href="#">Phases finales</a>
</nav>
{% endblock %}

{% block body %}
<!--<center>
  <a href="{{path('tournoi_download_calendrier', {id:tournoi.id})}}">
    <button class ="btn btn-outline-info btn-sm">Exporter le calendrier</button>
  </a><br><br>
  </center>
-->


<center>


  <p>
    <span id="tocopy">http://localhost:8000/tournoi:{{tournoi.id}}/calendrier/download</span>
    <button class="js-copy btn btn-outline-secondary btn-sm" data-target="#tocopy">Copier le lien <i
        class="icon-docs"></i></button>


  </p>
</center>
<script>

  var btncopy = document.querySelector('.js-copy');
  if (btncopy) {
    btncopy.addEventListener('click', docopy);
  }

  function docopy() {
    var range = document.createRange();
    var target = this.dataset.target;
    var fromElement = document.querySelector(target);
    var selection = window.getSelection();
  

  range.selectNode(fromElement);
    selection.removeAllRanges();
    selection.addRange(range);

    try {
      var result = document.execCommand('copy');

    }
    catch (err) {
      // Une erreur est surevnue lors de la tentative de copie
      alert(err);
    }

    selection = window.getSelection();

    if (typeof selection.removeRange === 'function') {
      selection.removeRange(range);
    } else if (typeof selection.removeAllRanges === 'function') {
      selection.removeAllRanges();
    }
  }

</script>

<br>
<center>
<select name="choose" id="choose ">
  <option>Sélectionnez un joueur</option>

  {% for joueur in joueurs %}
<option>{{ joueur.prenom }} {{ joueur.nom }}</option>

  {% endfor %}

</select>
</center>



<!-- CALENDRIER A FAIRE : DODO ET MATHIEU -->

{% block hello %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>
<div class="example-wrapper">
	<center>
		<br>
		<h1>Calendrier</h1>
	</center>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true"></div>
{{(calendrier)|raw}}
{% if time != NULL %}
	{{time}}
{% endif %}
{% endblock %}



    






  <!-- CALENDRIER A FAIRE : DODO ET MATHIEU -->


  {% endblock %}